{"version":3,"file":"489.js","mappings":"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","sources":["webpack://@openmrs/esm-patient-allergies-app/./src/allergies/allergies-form/allergy-form.scss","webpack://@openmrs/esm-patient-allergies-app/./src/allergies/allergies-form/allergy-form.scss?8561","webpack://@openmrs/esm-patient-allergies-app/./src/allergies/allergies-form/allergy-form.component.tsx","webpack://@openmrs/esm-patient-allergies-app/./src/allergies/allergies-form/allergy-form.resource.ts"],"names":["___CSS_LOADER_EXPORT___","push","module","id","locals","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","allergyFormSchema","z","object","allergen","uuid","string","display","type","required","nonCodedAllergen","optional","allergicReactions","array","nonCodedAllergicReaction","severityOfWorstReaction","comment","ResponsiveWrapper","children","isTablet","Layer","AllergicReactionsField","methods","control","setValue","handleAllergicReactionChange","useCallback","onChange","checked","index","shouldValidate","controlledFields","map","reaction","Controller","key","name","defaultValue","render","field","onBlur","value","Checkbox","className","styles","checkbox","labelText","event","Boolean","React","props","allergyReactionUuid","useSWRImmutable","data","closeWorkspace","patientUuid","promptBeforeClosing","useTranslation","t","useConfig","concepts","useLayoutType","severityLevels","patientState","useMemo","mildReactionUuid","severeReactionUuid","moderateReactionUuid","otherConceptUuid","useAllergicReactions","openmrsFetch","isLoading","allergicReactionsData","setMembers","allergicReaction","drugAllergenUuid","environmentalAllergenUuid","foodAllergenUuid","allergens","extract","allergenData","forEach","drugAllergenData","AllergenType","DRUG","environmentalAllergenData","ENVIRONMENT","foodAllergenData","FOOD","splice","sort","a","b","localeCompare","useAllergens","useState","isDisabled","setIsDisabled","useAllergies","mutate","useForm","mode","resolver","zodResolver","defaultValues","handleSubmit","watch","getValues","formState","isDirty","useEffect","selectedAllergen","selectedAllergicReactions","selectedSeverityOfWorstReaction","selectednonCodedAllergen","selectedNonCodedAllergicReaction","reactionsValidation","some","item","onSubmit","filter","payload","allergenType","codedAllergen","severity","reactions","reactionNonCoded","abortController","AbortController","headers","method","body","signal","saveAllergy","then","response","status","ignoreChanges","showSnackbar","isLowContrast","kind","title","subtitle","err","message","finally","abort","Form","Row","header","ExtensionSlot","content","state","div","form","Stack","gap","formContent","InlineNotification","style","minWidth","lowContrast","hideCloseButton","FormGroup","legendText","data-testid","ComboBox","items","OTHER","itemToString","placeholder","selectedItem","TextInput","checkboxContainer","InlineLoading","description","includes","input","RadioButtonGroup","toString","valueSelected","RadioButton","toLowerCase","TextArea","invalidText","rows","ButtonSet","classNames","tabletButtons","desktopButtons","actionButtons","Button","button","onClick","disabled"],"sourceRoot":""}